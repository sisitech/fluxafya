<div class="shorten-cards">
    <form [formGroup]="drugForm" (ngSubmit)="onSubmit()">
        <div class="card">
            <div class="card-body">Welcome <b>Dennis Sigei,</b></div>
        </div>
        <div class="card">
            <div class="card-header">PRESCRIPTION INFORMATION</div>

            <div class="card-body">
                <div class="form-group row">
                    <label for="staticEmail" class="col-sm-2 col-form-label">Search Drug </label>
                    <select [(ngModel)]="addDrug" [ngModelOptions]="{standalone: true}" (change)="onSelectDrug(item)" class="selectpicker col-sm-10 form-background-color" multiple data-live-search="true" style="width:50px;">
                        <option *ngFor="let item of drugs">{{item.name}}</option>
                    </select>
                </div>
            </div>

            <div *ngIf="adddrugform" class="card-body">
                <div *ngFor="let drug of addDrug; let i = index" class="form-group row">
                    <label for="staticEmail" class="col-sm-2 col-form-label">{{i+1}}.&nbsp;&nbsp;Drug</label>
                    <div class="col-sm-3" formArrayName="name" style="margin-left:-5%">
                        <div *ngFor="let text of drugForm.get('name').controls; let dname = index">
                            <input value="{{drug}}" type="text" class="form-control form-background-color" id="staticEmail" [formControlName]="dname">
                            <!-- <div class="messages text-danger" *ngIf="drugForm.controls.dname.errors?.required && drugForm.controls.dname.touched">Drug name can't be blank
                            </div> -->
                        </div>
                    </div>

                    <label for="staticEmail" class="col-sm-2 col-form-label">Dosage</label>
                    <div class="col-sm-3" formArrayName="dosage" style="margin-left:-5%">
                        <div *ngFor="let text of drugForm.get('dosage').controls; let ddosage = index">
                            <input type="text" class="form-control form-background-color" id="staticEmail" placeholder="1*3" value="" [formControlName]="ddosage">
                            <div class="messages text-danger" *ngIf="drugForm.controls.dosage.errors?.required && drugForm.controls.ddosage.touched">Dosage can't be blank
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <br>
                        <button class="btn btn-primary move-printer-btn-left" style="width:100%">Print Sticker</button>
                    </div>
                </div>

                <!--  <label for="staticEmail" class="col-sm-2 col-form-label">Drug and Dosage Summary</label>
                <div class="col-sm-10">
                    <textarea name="" class="form-control" id="" cols="30" rows="10"></textarea>
                </div> -->
            </div>
        </div>
        <div class="card">
            <div class="card-header">MODE OF PAYMENT</div>
            <div class="card-body">
                <div class="form-group row">
                    <label for="staticEmail" class="col-sm-2 col-form-label">Mode of Payment</label>
                    <div class="col-sm-10">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input form-background-color" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                            <label class="form-check-label" for="inlineRadio1">M-PESA</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input form-background-color" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                            <label class="form-check-label" for="inlineRadio2">VISA</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input form-background-color" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                            <label class="form-check-label" for="inlineRadio2">CASH</label>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="staticEmail" class="col-sm-2 col-form-label">Insurance Policy</label>
                    <div class="col-sm-10">
                        <select class="form-control form-background-color" id="sel1">
                        <option>Choose Insurer</option>
                        <option>Jubilee Insurance</option>
                        <option>UAP Insurance</option>
                    </select>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="staticEmail" class="col-sm-2 col-form-label">Insurance Policy Number</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="staticEmail" placeholder="">
                    </div>
                </div>
            </div>
        </div>
        <!-- <a [routerLink]="['/patients/register']">
            <button type="button" class="btn btn-primary">Purchase</button>
        </a> -->
        <button type="submit" class="btn btn-primary" [disabled]="!drugForm.valid">Purchase</button>
    </form>
</div>